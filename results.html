<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dissertation Experiment Results</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate & Violet -->
    <!-- Application Structure Plan: A single-page dashboard structure. The primary interaction is a set of buttons at the top that allow the user to toggle the displayed metric on the main chart. This provides a clear, focused view for comparing model performance across different evaluation criteria (ROUGE-1, ROUGE-2, ROUGE-L, BERTScore-F1). Below the chart, a dynamic table displays the raw data, and a summary section provides key takeaways. This structure was chosen for its simplicity and directness, allowing a user to quickly grasp the main findings of the experiments without complex navigation. -->
    <!-- Visualization & Content Choices: The core visualization is an interactive bar chart (Chart.js/Canvas) to compare the performance of the four models. Goal: Compare. Method: Bar Chart. Interaction: Toggling the metric via buttons updates the chart data and highlights, providing a dynamic comparison. Justification: Bar charts are optimal for comparing discrete categories (models). The interaction allows for uncluttered presentation of multiple metrics. The data table provides precise values for users who need them. The key findings are presented as clear, concise text blocks to summarize the main conclusions. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 450px;
            max-height: 60vh;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-slate-900">Dissertation Experiment Results</h1>
            <p class="text-slate-600 mt-2">An Interactive Dashboard for Summarization Model Performance</p>
        </header>

        <main class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
            
            <!-- Metric Selector Buttons -->
            <div id="metric-selector" class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-8">
                <!-- Buttons will be generated by JS -->
            </div>

            <!-- Chart Display -->
            <div class="chart-container mb-8">
                <canvas id="resultsChart"></canvas>
            </div>

            <!-- Data Table -->
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-slate-200 rounded-lg border border-slate-200">
                    <thead class="bg-slate-100">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">Model</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">ROUGE-1</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">ROUGE-2</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">ROUGE-L</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-slate-600 uppercase tracking-wider">BERTScore-F1</th>
                        </tr>
                    </thead>
                    <tbody id="results-table-body" class="bg-white divide-y divide-slate-200">
                        <!-- Table rows will be generated by JS -->
                    </tbody>
                </table>
            </div>

            <!-- Key Findings Section -->
            <div class="mt-10">
                <h2 class="text-2xl font-bold text-slate-900 mb-4 text-center">Key Findings & Analysis</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-slate-50 p-5 rounded-xl border border-slate-200">
                        <h3 class="font-bold text-lg text-violet-700 mb-2">üèÜ Fine-Tuning is Superior</h3>
                        <p class="text-slate-700">The fine-tuned BART models dramatically outperformed both LLM approaches on all ROUGE metrics, proving that specialized training on target data is highly effective for this task.</p>
                    </div>
                    <div class="bg-slate-50 p-5 rounded-xl border border-slate-200">
                        <h3 class="font-bold text-lg text-violet-700 mb-2">üî¨ Ablation Study Confirms Hypothesis</h3>
                        <p class="text-slate-700">Adding emotion labels (`BART (emotion)`) consistently provided a slight performance boost over the model without them, confirming that explicit emotional context is beneficial.</p>
                    </div>
                    <div class="bg-slate-50 p-5 rounded-xl border border-slate-200">
                        <h3 class="font-bold text-lg text-violet-700 mb-2">‚ú® RAG Greatly Enhances LLMs</h3>
                        <p class="text-slate-700">The RAG-enhanced LLM more than doubled the ROUGE-1 score of the zero-shot LLM, demonstrating that providing in-context examples is a powerful strategy for improving LLM performance.</p>
                    </div>
                    <div class="bg-slate-50 p-5 rounded-xl border border-slate-200">
                        <h3 class="font-bold text-lg text-violet-700 mb-2">ü§î ROUGE vs. BERTScore Insight</h3>
                        <p class="text-slate-700">While LLMs scored lower on ROUGE, their BERTScore results were much more competitive. This suggests LLMs are better at capturing the overall *meaning* than using the *exact words* of the reference summary.</p>
                    </div>
                </div>
            </div>

        </main>

        <footer class="text-center mt-8 text-slate-500 text-sm">
            <p>Interactive Report generated for Dissertation Project.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Data Storage ---
            const resultsData = [
                { 'Model': 'BART (emotion)', 'ROUGE-1': 66.67, 'ROUGE-2': 55.01, 'ROUGE-L': 63.71, 'BERTScore-F1': 94.18 },
                { 'Model': 'BART (no emotion)', 'ROUGE-1': 66.33, 'ROUGE-2': 54.56, 'ROUGE-L': 63.38, 'BERTScore-F1': 94.13 },
                { 'Model': 'LLM (RAG)', 'ROUGE-1': 42.69, 'ROUGE-2': 26.89, 'ROUGE-L': 38.05, 'BERTScore-F1': 90.13 },
                { 'Model': 'LLM (zero-shot)', 'ROUGE-1': 20.62, 'ROUGE-2': 6.28, 'ROUGE-L': 16.46, 'BERTScore-F1': 87.79 }
            ];

            const metrics = ['ROUGE-1', 'ROUGE-2', 'ROUGE-L', 'BERTScore-F1'];
            let currentMetric = 'ROUGE-1';
            let chartInstance = null;
            
            const colors = {
                'ROUGE-1': 'rgba(109, 40, 217, 0.7)',
                'ROUGE-2': 'rgba(79, 70, 229, 0.7)',
                'ROUGE-L': 'rgba(59, 130, 246, 0.7)',
                'BERTScore-F1': 'rgba(234, 179, 8, 0.7)',
            };
            const borderColors = {
                'ROUGE-1': 'rgba(109, 40, 217, 1)',
                'ROUGE-2': 'rgba(79, 70, 229, 1)',
                'ROUGE-L': 'rgba(59, 130, 246, 1)',
                'BERTScore-F1': 'rgba(234, 179, 8, 1)',
            };

            // --- UI Generation ---
            const selectorContainer = document.getElementById('metric-selector');
            const tableBody = document.getElementById('results-table-body');

            // Populate metric selector buttons
            metrics.forEach(metric => {
                const button = document.createElement('button');
                button.textContent = metric;
                button.dataset.metric = metric;
                button.className = `px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2`;
                selectorContainer.appendChild(button);
            });

            // Populate data table
            resultsData.forEach(row => {
                const tr = document.createElement('tr');
                tr.className = 'hover:bg-slate-50';
                Object.values(row).forEach(value => {
                    const td = document.createElement('td');
                    td.className = 'px-6 py-4 whitespace-nowrap text-sm';
                    td.textContent = value;
                    if (typeof value === 'string') {
                        td.classList.add('font-medium', 'text-slate-900');
                    } else {
                         td.classList.add('text-slate-600');
                    }
                    tr.appendChild(td);
                });
                tableBody.appendChild(tr);
            });

            // --- Chart Initialization and Update Logic ---
            const ctx = document.getElementById('resultsChart').getContext('2d');

            function updateChart() {
                const chartData = resultsData.map(d => d[currentMetric]);
                const chartLabels = resultsData.map(d => d.Model);

                if (chartInstance) {
                    chartInstance.destroy();
                }

                chartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: chartLabels,
                        datasets: [{
                            label: currentMetric + ' Score',
                            data: chartData,
                            backgroundColor: colors[currentMetric],
                            borderColor: borderColors[currentMetric],
                            borderWidth: 2,
                            borderRadius: 8,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#e2e8f0'
                                },
                                ticks: {
                                    color: '#64748b',
                                    font: {
                                        size: 12,
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    color: '#475569',
                                    font: {
                                        size: 12,
                                        weight: '500'
                                    },
                                    // Logic to wrap long labels on x-axis
                                    callback: function(value) {
                                        const label = this.getLabelForValue(value);
                                        if (label.length > 16) {
                                            return label.match(/.{1,16}/g);
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: true,
                                backgroundColor: '#1e293b',
                                titleFont: { size: 14, weight: 'bold' },
                                bodyFont: { size: 12 },
                                cornerRadius: 6,
                                displayColors: false,
                                callbacks: {
                                    label: function(context) {
                                        return `${currentMetric}: ${context.raw.toFixed(2)}`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function updateButtonStyles() {
                const buttons = selectorContainer.querySelectorAll('button');
                buttons.forEach(button => {
                    if (button.dataset.metric === currentMetric) {
                        button.className = `px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-violet-600 text-white shadow-md focus:ring-violet-500`;
                    } else {
                        button.className = `px-4 py-2 text-sm font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 bg-slate-200 text-slate-700 hover:bg-slate-300 focus:ring-slate-400`;
                    }
                });
            }

            // --- Event Handling ---
            selectorContainer.addEventListener('click', function (e) {
                if (e.target.tagName === 'BUTTON') {
                    currentMetric = e.target.dataset.metric;
                    updateChart();
                    updateButtonStyles();
                }
            });

            // --- Initial Load ---
            updateChart();
            updateButtonStyles();
        });
    </script>
</body>
</html>
